/*! virtual-pointer - v0.0.1 - 2016-06-27
* https://github.com/ngryman/virtual-pointer
* Copyright (c) 2016 Nicolas Gryman; Licensed MIT */
!function(a,b){var c=!1,d=c?"touchstart":"mousedown",e=c?"touchend":"mouseup",f=c?"touchmove":"mousemove";a.each("click mousedown mouseup mousemove mouseleave touchstart touchmove touchend".split(" "),function(b,c){a.event.special[c]={add:function(a){var b=a.handler;a.handler=function(a){a.isTrigger&&b.apply(this,arguments)}}}}),b.VirtualPointer=function(b){return{x:0,y:0,autoReset:!0,trigger:function(b){var c=a(document.elementFromPoint(this.x,this.y));c.trigger(new a.Event(b,{pageX:this.x,pageY:this.y,originalEvent:{touches:[{pageX:this.x,pageY:this.y}]}}))},tapStart:function(b){if(this.autoReset&&(this.x=this.y=0),b){var c=a(b).offset();this.x=c.left,this.y=c.top}this.trigger(d)},tapEnd:function(b){if(b){var c=a(b).offset();this.x=c.left,this.y=c.top}this.trigger(e)},click:function(b){if(b){var c=a(b).offset();this.x=c.left,this.y=c.top}this.trigger("click")},move:function(c,d,e,g){var h,i,j=Date.now(),k=0;"number"!=typeof c&&(g=e,e=d,i=a(c).offset(),c=i.left,d=i.top);var l=this.x,m=this.y;(function n(){var a=Date.now();return k+=a-j,k>e?((c!=this.x||d!=this.y)&&(this.x=l+c,this.y=m+d,this.trigger(f)),void(g&&g.call(b))):(j=a,this.x=Math.ceil(k/e*c)+l,this.y=Math.ceil(k/e*d)+m,this.trigger(f),void(h=setTimeout(n.bind(this),0)))}).bind(this)()},tap:function(a){this.tapStart(a),this.tapEnd(a)},press:function(a,c,d){c=c||1.5*this.PRESS_DURATION,this.tapStart(d),setTimeout(function(){this.tapEnd(d),a&&a.call(b)}.bind(this),c)},doubleTap:function(a,c,d){c=c||.5*this.DOUBLETAP_DURATION,this.tap(d),setTimeout(function(){this.tap(d),a&&a.call(b)}.bind(this),c)},drag:function(b,c,d,e){var f;"number"!=typeof b&&(e=d,d=c,f=a(b).offset(),b=f.left,c=f.top),e=e||1.5*this.FLICK_DURATION,this.tapStart(),this.move(b,c,e,function(){this.tapEnd(),d&&d()}.bind(this))},flick:function(b,c,d,e){var f;"number"!=typeof b&&(e=d,d=c,f=a(b).offset(),b=f.left,c=f.top),e=e||.5*this.FLICK_DURATION,this.tapStart(),this.move(b,c,e,function(){this.tapEnd(),d&&d()}.bind(this))},START_EVENT:d,STOP_EVENT:e,MOVE_EVENT:f,PRESS_DURATION:25,DOUBLETAP_DURATION:25,FLICK_DURATION:25}}}(jQuery,window);